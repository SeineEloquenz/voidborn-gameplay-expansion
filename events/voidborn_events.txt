namespace = voidborn

## 1-999 Setup

## 1000-9999 Story events

## 10000-19999 Assimilation Events

## 20000-29999 Other Events

## 30000-* debug stuff 

##### SETUP

event = {
    id = voidborn.1
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
    }
    
    immediate = {
        event_target:voidborn_yggxaraz = {
            create_archaeological_site = vb_dark_ones_digsite
        }
    }
}

planet_event = {
    id = voidborn.998
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
    }
    
    immediate = {
        change_pc = pc_void
    }
}

country_event = {
    id = voidborn.999
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
    }
    
    immediate = {		
		every_planet = {
			limit = { is_planet_class = pc_shrouded }
            change_pc = pc_void
		}
    }
}
##### STORY

fleet_event = { 
	id = voidborn.1000
	title = vb_dark_ones_digsite
	desc = voidborn.1000.desc
	picture = GFX_evt_archaeological_dig
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = voidborn.1000.a
	}
}

fleet_event = {
	id = voidborn.1001
	title = "voidborn.1001.name"
	desc = voidborn.1001.desc
	picture = GFX_evt_zro_3
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = voidborn.1001.a
	}
}

fleet_event = {
	id = voidborn.1002
	title = "voidborn.1002.name"
	desc = voidborn.1002.desc
	picture = GFX_evt_zro_3
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = voidborn.1002.a
	}
}

fleet_event = {
	id = voidborn.1003
	title = "voidborn.1003.name"
	desc = voidborn.1003.desc
	picture = GFX_evt_zro_5
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = voidborn.1003.a
        custom_tooltip = voidborn_void_habitability_tt
		hidden_effect = {
            owner = {
                every_owned_pop = {
                    limit = {
                        is_robot_pop = no
                        is_sapient = yes
                        is_species_class = CORRUPTED
                    }
                    modify_species = {
                        species = this
                        add_trait = pc_void_habitability
                        ideal_planet_class = pc_void
                    }
                }
                capital_scope = {
                    change_pc = pc_void
                }
            }
        }
	}
}
fleet_event = {
	id = voidborn.1004
	title = "voidborn.1004.name"
	desc = voidborn.1004.desc
	picture = GFX_evt_zro_5
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = voidborn.1004.a
        custom_tooltip = vb_rift_system_found_tt
        hidden_effect = {
            no_scope = {
                spawn_system = {
                    min_distance >= 25
                    max_distance <= 45
                    min_orientation_angle = 90
                    max_orientation_angle = 160
                    initializer = voidborn_void_rift_system
                }
            }
            event_target:voidborn_yggxaraz = {
                solar_system = {
                    event_target:voidborn_rift_system = {
                        isolate_system = yes
                        prev = {
                            spawn_natural_wormhole = {
                                bypass_type = wormhole
                                random_pos = yes
                                orbit_angle = 360
                            }
                        }
                        spawn_natural_wormhole = {
                            bypass_type = wormhole
                            random_pos = yes
                            orbit_angle = 270
                        }
                        link_wormholes = prev
                    }
                }
            }
        }
    }
}

fleet_event = { 
	id = voidborn.1010
	title = vb_rift_digsite
	desc = voidborn.1010.desc
	picture = GFX_evt_archaeological_dig
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = voidborn.1010.a
	}
}

fleet_event = { 
	id = voidborn.1011
	title = "voidborn.1011.name"
	desc = voidborn.1011.desc
	picture = GFX_evt_zro_3
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = voidborn.1011.a
	}
}
fleet_event = { 
	id = voidborn.1012
	title = "voidborn.1012.name"
	desc = voidborn.1012.desc
	picture = GFX_evt_zro_3
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = voidborn.1012.a
	}
}
fleet_event = { 
	id = voidborn.1013
	title = "voidborn.1013.name"
	desc = voidborn.1013.desc
	picture = GFX_evt_zro_5
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
        owner = {
            modify_species = {
            }
        }
		name = voidborn.1013.a
	}
}
fleet_event = { 
	id = voidborn.1014
	title = "voidborn.1014.name"
	desc = voidborn.1014.desc
	picture = GFX_evt_baol_2
	show_sound = event_default
	location = from

	archaeology = yes

	is_triggered_only = yes

	option = {
		name = voidborn.1014.a
		owner = {
			add_relic = r_vb_void_orb
		}
	}
}


country_event = {
    id = voidborn.9998
    title = "voidborn.9998.name"
    desc = "voidborn.9998.desc"
	picture = GFX_evt_voidborn_corruption
    hide_window = no
    is_triggered_only = yes
    
    trigger = {
    }
    
    option = {
        name = voidborn.9998.a
    }
}

country_event = {
    id = voidborn.9999
    title = "voidborn.9999.name"
    desc = "voidborn.9999.desc"
	picture = GFX_evt_voidborn_corruption
    hide_window = no
    is_triggered_only = yes
    
    trigger = {
    }
    
    option = {
        name = voidborn.9999.a
        random_owned_planet = {
            limit = {
                is_colony = yes
                NOT = { is_planet_class = pc_void }
                NOT = { is_planet_class = pc_relic }
                NOT = { is_planet_class = pc_city }
                NOT = { is_planet_class = pc_machine }
                NOT = { is_planet_class = pc_hive }
            }
            custom_tooltip = voidborn_world_shrouded_tt	
            hidden_effect = {
                planet_event = { id = voidborn.998 }
            }
        }
    }
}


##### ASSIMILATION

country_event = {
    id = voidborn.100
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
    }
    
    immediate = {
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_0
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_1
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_2
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_3
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_4
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_5
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_6
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_7
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_8
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_9
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_10
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_11
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_12
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_13
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_14
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_15
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_16
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_17
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_18
            set_country_flag = vb_evt_selected
        }
        random_country = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
                is_primitive = no
                NOT = { has_country_flag = vb_evt_selected }
            }
            save_event_target_as = voidborn_evtt_demand_corruption_19
            set_country_flag = vb_evt_selected
        }
        country_event = { id = voidborn.110 }
        every_country = {    
            remove_country_flag = vb_evt_selected
        }
    }
}

country_event = {
	id = voidborn.110
	is_triggered_only = yes

	title = "voidborn_select_assimilation_target_title"
	desc = "voidborn_select_assimilation_target_desc"
	show_sound = event_conversation

	option = {
		name = voidborn_demand_corruption_0
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_0
            has_communications = event_target:voidborn_evtt_demand_corruption_0
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_0 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_1
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_1
            has_communications = event_target:voidborn_evtt_demand_corruption_1
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_1 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_2
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_2
            has_communications = event_target:voidborn_evtt_demand_corruption_2
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_2 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_3
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_3
            has_communications = event_target:voidborn_evtt_demand_corruption_3
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_3 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_4
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_4
            has_communications = event_target:voidborn_evtt_demand_corruption_4
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_4 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_5
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_5
            has_communications = event_target:voidborn_evtt_demand_corruption_5
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_5 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_6
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_6
            has_communications = event_target:voidborn_evtt_demand_corruption_6
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_6 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_7
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_7
            has_communications = event_target:voidborn_evtt_demand_corruption_7
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_7 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_8
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_8
            has_communications = event_target:voidborn_evtt_demand_corruption_8
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_8 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_9
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_9
            has_communications = event_target:voidborn_evtt_demand_corruption_9
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_9 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_10
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_10
            has_communications = event_target:voidborn_evtt_demand_corruption_10
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_10 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_11
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_11
            has_communications = event_target:voidborn_evtt_demand_corruption_11
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_11 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_12
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_12
            has_communications = event_target:voidborn_evtt_demand_corruption_12
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_12 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_13
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_13
            has_communications = event_target:voidborn_evtt_demand_corruption_13
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_13 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_14
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_14
            has_communications = event_target:voidborn_evtt_demand_corruption_14
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_14 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_15
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_15
            has_communications = event_target:voidborn_evtt_demand_corruption_15
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_15 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_16
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_16
            has_communications = event_target:voidborn_evtt_demand_corruption_16
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_16 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_17
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_17
            has_communications = event_target:voidborn_evtt_demand_corruption_17
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_17 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_18
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_18
            has_communications = event_target:voidborn_evtt_demand_corruption_18
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_18 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_19
		trigger = {
			exists = event_target:voidborn_evtt_demand_corruption_19
            has_communications = event_target:voidborn_evtt_demand_corruption_19
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			event_target:voidborn_evtt_demand_corruption_19 = { save_event_target_as = corruption_demand_target }
            country_event = { id = voidborn.101}
		}
	}
	option = {
		name = voidborn_demand_corruption_20
		trigger = {
		}
		ai_chance = {
			factor = 0
		}
		hidden_effect = {
		}
	}
}


country_event = {
	id = voidborn.101
	is_triggered_only = yes

	title = "voidborn_assimilation_demand_title"
	desc = "voidborn_assimilation_demand_desc"
	show_sound = event_conversation
    diplomatic = yes
    
	picture_event_data = {
		portrait = event_target:corruption_demand_target            #Animated portrait. Accepts country, leader or species scope as an input
		planet_background = event_target:corruption_demand_target   #Planet background, if your picture has a window
		graphical_culture = event_target:corruption_demand_target   #City on the planet in the window
		city_level = event_target:corruption_demand_target          #The size of the city. Usable to make planet behind look like capital
		room = event_target:corruption_demand_target.ruler          #Static background. Can use static pictures or scopes as the input
	}

	option = {
		name = voidborn_assimilation_demand_option
		trigger = {
		}
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
            save_event_target_as = corruption_demander
            save_event_target_as = species_scope
            event_target:corruption_demand_target = {
                country_event = { id = voidborn.102 }
            }
		}
	}
    option = {
		name = voidborn_demand_corruption_20
		trigger = {
		}
		ai_chance = {
			factor = 0
		}
		hidden_effect = {
		}
	}
}

country_event = {
	id = voidborn.102
	is_triggered_only = yes

	title = "voidborn_assimilation_demanded_title"
	desc = "voidborn_assimilation_demanded_desc"
	show_sound = event_conversation
    diplomatic = yes
    
	picture_event_data = {
		portrait = event_target:corruption_demander            #Animated portrait. Accepts country, leader or species scope as an input
		planet_background = event_target:corruption_demander   #Planet background, if your picture has a window
		graphical_culture = event_target:corruption_demander   #City on the planet in the window
		city_level = event_target:corruption_demander          #The size of the city. Usable to make planet behind look like capital
		room = event_target:corruption_demander.ruler          #Static background. Can use static pictures or scopes as the input
	}

	option = {
		name = voidborn_demanded_corruption_accept
		trigger = {
		}
		ai_chance = {
			factor = 0
		}
		hidden_effect = {
            country_event = { id = voidborn.11100 }
            event_target:corruption_demander = {
                country_event = { id = voidborn.103 }
            }
		}
	}
    
	option = {
		name = voidborn_demanded_corruption_decline
		trigger = {
		}
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
            event_target:corruption_demander = {
                add_casus_belli = { type = cb_void_assimilation who = event_target:corruption_demand_target days = 360 }
            }
            event_target:corruption_demander = {
                country_event = { id = voidborn.104 }
            }
		}
	}
}

country_event = {
	id = voidborn.103
	is_triggered_only = yes

	title = "voidborn_assimilation_accepted_title"
	desc = "voidborn_assimilation_accepted_desc"
	show_sound = event_conversation
    diplomatic = yes
    
	picture_event_data = {
		portrait = event_target:corruption_demand_target            #Animated portrait. Accepts country, leader or species scope as an input
		planet_background = event_target:corruption_demand_target   #Planet background, if your picture has a window
		graphical_culture = event_target:corruption_demand_target   #City on the planet in the window
		city_level = event_target:corruption_demand_target          #The size of the city. Usable to make planet behind look like capital
		room = event_target:corruption_demand_target.ruler          #Static background. Can use static pictures or scopes as the input
	}

	option = {
		name = voidborn_demanded_corruption_accepted
		trigger = {
		}
		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = voidborn.104
	is_triggered_only = yes

	title = "voidborn_assimilation_declined_title"
	desc = "voidborn_assimilation_declined_desc"
	show_sound = event_conversation
    diplomatic = yes
    
	picture_event_data = {
		portrait = event_target:corruption_demand_target            #Animated portrait. Accepts country, leader or species scope as an input
		planet_background = event_target:corruption_demand_target   #Planet background, if your picture has a window
		graphical_culture = event_target:corruption_demand_target   #City on the planet in the window
		city_level = event_target:corruption_demand_target          #The size of the city. Usable to make planet behind look like capital
		room = event_target:corruption_demand_target.ruler          #Static background. Can use static pictures or scopes as the input
	}
    
	option = {
		name = voidborn_demanded_corruption_declined
		trigger = {
		}
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
    id = voidborn.11000
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
        has_valid_civic = civic_void_assimilation
        check_variable = { which = pvac value >= 500 }
    }
    
    immediate = {
        #pvac = pop void assimilation count
        change_variable = { which = pvac value = -500 }
        IF = {
            limit = { has_modifier = voidborn_corrupted_1 }
            country_event = { id = voidborn.11002}
        }
        ELSE_IF = {
            limit = { has_modifier = voidborn_corrupted_2 }
            country_event = { id = voidborn.11003}
        }
        ELSE_IF = {
            limit = { has_modifier = voidborn_corrupted_3 }
            country_event = { id = voidborn.11004}
        }
        ELSE_IF = {
            limit = { has_modifier = voidborn_corrupted_4 }
            country_event = { id = voidborn.11005}
        }
        ELSE_IF = {
            limit = { has_modifier = voidborn_corrupted_5 }
        }
        ELSE = {
            country_event = { id = voidborn.11001}
        }
    }
}

country_event = {
    id = voidborn.11001
    title = "voidborn.11001.name"
    desc = "voidborn.11001.desc"
	picture = GFX_evt_voidborn_corruption
    hide_window = no
    is_triggered_only = yes
    
    trigger = {
    }
    
    option = {
        name = voidborn.11001.a
        add_modifier = {
            modifier = voidborn_corrupted_1
            days = -1
        }
    }
}

country_event = {
    id = voidborn.11002
    title = "voidborn.11002.name"
    desc = "voidborn.11002.desc"
	picture = GFX_evt_voidborn_corruption
    hide_window = no
    is_triggered_only = yes
    
    trigger = {
    }
    
    option = {
        name = voidborn.11002.a
        remove_modifier = voidborn_corrupted_1
        add_modifier = {
            modifier = voidborn_corrupted_2
            days = -1
        }
    }
}

country_event = {
    id = voidborn.11003
    title = "voidborn.11003.name"
    desc = "voidborn.11003.desc"
	picture = GFX_evt_voidborn_corruption
    hide_window = no
    is_triggered_only = yes
    
    trigger = {
    }
    
    option = {
        name = voidborn.11003.a
        remove_modifier = voidborn_corrupted_2
        add_modifier = {
            modifier = voidborn_corrupted_3
            days = -1
        }
    }
}

country_event = {
    id = voidborn.11004
    title = "voidborn.11004.name"
    desc = "voidborn.11004.desc"
	picture = GFX_evt_voidborn_corruption
    hide_window = no
    is_triggered_only = yes
    
    trigger = {
    }
    
    option = {
        name = voidborn.11004.a
        remove_modifier = voidborn_corrupted_3
        add_modifier = {
            modifier = voidborn_corrupted_4
            days = -1
        }
    }
}

country_event = {
    id = voidborn.11005
    title = "voidborn.11005.name"
    desc = "voidborn.11005.desc"
	picture = GFX_evt_voidborn_corruption
    hide_window = no
    is_triggered_only = yes
    
    trigger = {
    }
    
    option = {
        name = voidborn.11005.a
        remove_modifier = voidborn_corrupted_4
        add_modifier = {
            modifier = voidborn_corrupted_5
            days = -1
        }
    }
}

country_event = {
    id = voidborn.11100
    title = "voidborn.11100.name"
    desc = "voidborn.11100.desc"
	picture = GFX_evt_voidborn_corruption
    hide_window = no
    is_triggered_only = yes
    
    trigger = {
    }
    
    option = {
        name = voidborn.11100.a
        change_dominant_species = { species = event_target:species_scope change_all = yes }
        every_owned_pop = {
            limit = {
                OR = {
                    is_species_class = MAM
                    is_species_class = HUM
                }
            }
            random_list = {
                10 = {
                    change_species = event_target:species_scope
                }
                40 = {
                    save_event_target_as = expel_pop
                    any_playable_country = {
                        random_owned_planet = {
                            resettle_pop = {
                                pop = event_target:expel_pop
                                planet = this
                            }
                        }
                    }
                }
                50 = {}
            }
        }
        add_modifier = { modifier = voidborn_force_converted days = 3600 }
    }
}

#Purity government: purging humanoid pops spawns own pops
planet_event = {
	id = voidborn.10000
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			has_valid_civic = civic_void_assimilation
		}
		FROMFROM = {
			is_robot_pop = no
			NOT = {
				is_same_species = owner_species
            }
            is_species_class = HUM
		}
		is_controlled_by = FROM
	}
	
	immediate = {
		while = {
            count = 1
            create_pop = {
                species = owner_main_species
			}
            FROM = {
                change_variable = { which = pvac value = 1 }
            }
		}
	}
}

#Purity government: purging pops yields unity
planet_event = {
	id = voidborn.10001
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		FROM = {
            has_valid_civic = civic_void_assimilation
        }
		FROMFROM = {
			is_robot_pop = no
			NOT = {
				is_same_species = owner_species
			}
			NOT = {
                is_species_class = HUM
            }
		}
		is_controlled_by = FROM
	}
	
	immediate = {
		FROM = {
			add_monthly_resource_mult = {
				resource = unity
				value = 1.5
				min = 5
				max = 100
			}
		}
	}
}

##### DEBUG

country_event = {
    id = voidborn.30000
    hide_window = yes
    is_triggered_only = yes
    
    trigger = {
    }
    
    immediate = {
        change_variable = { which = pvac value = 500 }
    }
}